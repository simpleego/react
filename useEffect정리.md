# useEffectì •ë¦¬
## React useEffectì˜ 3ê°€ì§€ ì‚¬ìš©ë²• ğŸ’¯

Reactì˜ `useEffect` í›…ì€ ì»´í¬ë„ŒíŠ¸ì˜ **ìƒëª…ì£¼ê¸°(Lifecycle)** ì™€ ê´€ë ¨ëœ ë¶€ìˆ˜ íš¨ê³¼(Side Effects)ë¥¼ ì²˜ë¦¬í•˜ê¸° ìœ„í•´ ì‚¬ìš©ë©ë‹ˆë‹¤. 
ì‰½ê²Œ ë§í•´, ë Œë”ë§ ì´í›„ì— ë¹„ë™ê¸° í†µì‹ , DOM ì¡°ì‘, êµ¬ë…(Subscription) ë“±ê³¼ ê°™ì€ ì‘ì—…ì„ ìˆ˜í–‰í•  ë•Œ í•„ìš”í•©ë‹ˆë‹¤. `useEffect`ëŠ” ë‘ ë²ˆì§¸ ì¸ìì¸ \*\*ì˜ì¡´ì„± ë°°ì—´(Dependency Array)\*\*ì„ ì–´ë–»ê²Œ ì„¤ì •í•˜ëŠëƒì— ë”°ë¼ ì„¸ ê°€ì§€ ì£¼ìš”í•œ ë°©ì‹ìœ¼ë¡œ ë™ì‘í•©ë‹ˆë‹¤.

-----

### 1\. ë Œë”ë§ë  ë•Œë§ˆë‹¤ ì‹¤í–‰ (ì˜ì¡´ì„± ë°°ì—´ ìƒëµ)

`useEffect`ì˜ ë‘ ë²ˆì§¸ ì¸ìì¸ ì˜ì¡´ì„± ë°°ì—´ì„ ìƒëµí•˜ë©´, ì»´í¬ë„ŒíŠ¸ê°€ **ë Œë”ë§ë  ë•Œë§ˆë‹¤** `useEffect`ì— ì „ë‹¬ëœ ì½œë°± í•¨ìˆ˜ê°€ ì‹¤í–‰ë©ë‹ˆë‹¤. ì´ëŠ” ì»´í¬ë„ŒíŠ¸ê°€ ì²˜ìŒ ë§ˆìš´íŠ¸ë  ë•Œì™€ ë¦¬ë Œë”ë§ë  ë•Œ ëª¨ë‘ í¬í•¨ë©ë‹ˆë‹¤.

**ì‚¬ìš© ì‚¬ë¡€:**

  * ë Œë”ë§ë  ë•Œë§ˆë‹¤ íŠ¹ì • ê°’ì„ ê¸°ë¡(log)í•˜ê±°ë‚˜, í•­ìƒ ìµœì‹  ìƒíƒœë¥¼ ë°˜ì˜í•´ì•¼ í•˜ëŠ” ê°„ë‹¨í•œ DOM ì¡°ì‘ì— ì‚¬ìš©ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ ë¶ˆí•„ìš”í•œ ì¬ì‹¤í–‰ìœ¼ë¡œ ì¸í•´ ì„±ëŠ¥ ë¬¸ì œë¥¼ ì¼ìœ¼í‚¬ ìˆ˜ ìˆì–´ ì£¼ì˜í•´ì•¼ í•©ë‹ˆë‹¤.

**ì½”ë“œ ì˜ˆì‹œ:**

```javascript
import React, { useState, useEffect } from 'react';

function Counter() {
  const [count, setCount] = useState(0);

  // ì˜ì¡´ì„± ë°°ì—´ì´ ì—†ìœ¼ë¯€ë¡œ ë Œë”ë§ë  ë•Œë§ˆë‹¤ ì‹¤í–‰ë©ë‹ˆë‹¤.
  useEffect(() => {
    console.log(`ì»´í¬ë„ŒíŠ¸ê°€ ë Œë”ë§ë˜ì—ˆìŠµë‹ˆë‹¤. í˜„ì¬ ê°’: ${count}`);
  });

  return (
    <div>
      <p>{count}</p>
      <button onClick={() => setCount(count + 1)}>ì¦ê°€</button>
    </div>
  );
}
```

ìœ„ ì˜ˆì‹œì—ì„œëŠ” `count` ìƒíƒœê°€ ë³€ê²½ë˜ì–´ ë¦¬ë Œë”ë§ë  ë•Œë§ˆë‹¤ ì½˜ì†”ì— ë©”ì‹œì§€ê°€ ì¶œë ¥ë©ë‹ˆë‹¤.

-----

### 2\. ì²˜ìŒ í•œ ë²ˆë§Œ ì‹¤í–‰ (ë¹ˆ ì˜ì¡´ì„± ë°°ì—´ `[]`)

`useEffect`ì˜ ë‘ ë²ˆì§¸ ì¸ìë¡œ \*\*ë¹ˆ ë°°ì—´(`[]`)\*\*ì„ ì „ë‹¬í•˜ë©´, ì½œë°± í•¨ìˆ˜ëŠ” ì»´í¬ë„ŒíŠ¸ê°€ **ì²˜ìŒ ë Œë”ë§(ë§ˆìš´íŠ¸)ë  ë•Œ ë‹¨ í•œ ë²ˆë§Œ** ì‹¤í–‰ë©ë‹ˆë‹¤. ë¦¬ë Œë”ë§ë  ë•ŒëŠ” ì‹¤í–‰ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.

**ì‚¬ìš© ì‚¬ë¡€:**

  * **API ë°ì´í„° ìš”ì²­**: ì»´í¬ë„ŒíŠ¸ê°€ ì²˜ìŒ ë‚˜íƒ€ë‚  ë•Œ ì™¸ë¶€ ë°ì´í„°ë¥¼ í•œ ë²ˆë§Œ ê°€ì ¸ì˜¬ ê²½ìš°
  * **ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ë“±ë¡**: `window`ë‚˜ `document`ì— ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆë¥¼ í•œ ë²ˆë§Œ ë“±ë¡í•  ê²½ìš°
  * **íƒ€ì´ë¨¸ ì„¤ì •**: `setTimeout`ì´ë‚˜ `setInterval`ì„ í•œ ë²ˆë§Œ ì„¤ì •í•  ê²½ìš°

**ì½”ë“œ ì˜ˆì‹œ:**

```javascript
import React, { useState, useEffect } from 'react';

function UserData() {
  const [user, setUser] = useState(null);

  // ë¹ˆ ë°°ì—´ì„ ì „ë‹¬í•˜ì—¬ ì²˜ìŒ í•œ ë²ˆë§Œ ì‹¤í–‰ë©ë‹ˆë‹¤.
  useEffect(() => {
    console.log('ë°ì´í„°ë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤...');
    fetch('https://api.example.com/user/1')
      .then(response => response.json())
      .then(data => setUser(data));
  }, []); // ë¹ˆ ë°°ì—´

  return (
    <div>
      {user ? <p>ì´ë¦„: {user.name}</p> : <p>ë¡œë”© ì¤‘...</p>}
    </div>
  );
}
```

-----

### 3\. íŠ¹ì • ê°’ì´ ë³€ê²½ë  ë•Œë§Œ ì‹¤í–‰ (ì˜ì¡´ì„± ë°°ì—´ì— ê°’ ì¶”ê°€ `[value]`)

`useEffect`ì˜ ë‘ ë²ˆì§¸ ì¸ìì¸ **ì˜ì¡´ì„± ë°°ì—´ì— íŠ¹ì • ê°’(state, props ë“±)ì„ ë„£ìœ¼ë©´**, í•´ë‹¹ ê°’ì´ ë³€ê²½ë  ë•Œë§Œ ì½œë°± í•¨ìˆ˜ê°€ ì‹¤í–‰ë©ë‹ˆë‹¤. ì»´í¬ë„ŒíŠ¸ê°€ ì²˜ìŒ ë§ˆìš´íŠ¸ë  ë•Œë„ í•œ ë²ˆ ì‹¤í–‰ë©ë‹ˆë‹¤.

**ì‚¬ìš© ì‚¬ë¡€:**

  * íŠ¹ì • `props`ë‚˜ `state`ê°€ ë³€ê²½ë  ë•Œë§ˆë‹¤ ê´€ë ¨ ë°ì´í„°ë¥¼ ìƒˆë¡œ ê°€ì ¸ì™€ì•¼ í•  ê²½ìš°
  * íŠ¹ì • ìƒíƒœê°’ì— ë”°ë¼ DOMì„ ì—…ë°ì´íŠ¸í•˜ê±°ë‚˜ ë‹¤ë¥¸ ìƒíƒœë¥¼ ë³€ê²½í•´ì•¼ í•  ê²½ìš°

**ì½”ë“œ ì˜ˆì‹œ:**

```javascript
import React, { useState, useEffect } from 'react';

function UserProfile({ userId }) {
  const [user, setUser] = useState(null);

  // userIdê°€ ë³€ê²½ë  ë•Œë§ˆë‹¤ ì‹¤í–‰ë©ë‹ˆë‹¤.
  useEffect(() => {
    console.log(`${userId} ì‚¬ìš©ìì˜ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤.`);
    fetch(`https://api.example.com/users/${userId}`)
      .then(response => response.json())
      .then(data => setUser(data));
  }, [userId]); // userIdë¥¼ ì˜ì¡´ì„± ë°°ì—´ì— ì¶”ê°€

  return (
    <div>
      {user ? <p>ì´ë¦„: {user.name}</p> : <p>ë¡œë”© ì¤‘...</p>}
    </div>
  );
}
```

ì´ ì˜ˆì‹œì—ì„œëŠ” ë¶€ëª¨ ì»´í¬ë„ŒíŠ¸ë¡œë¶€í„° ë°›ëŠ” `userId`ë¼ëŠ” `props`ê°€ ë³€ê²½ë  ë•Œë§ˆë‹¤ ìƒˆë¡œìš´ ì‚¬ìš©ì ì •ë³´ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” APIë¥¼ í˜¸ì¶œí•©ë‹ˆë‹¤.
